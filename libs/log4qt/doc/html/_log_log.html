<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Log4Qt: Logging within the package</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<h1>Logging within the package </h1>  </div>
</div>
<div class="contents">
<p>The package uses itself for logging similar to Log4j 1.3. This brings much more flexibility over logging to stdout, stderr like in Log4j 1.2 using logLog. It also enables the program to capture and handle errors raised by the package.</p>
<p>Using this approach introduces the issue of recursion. The following example explains a situation where this happens. Let's say all logger are configured to be additive and only the root logger has an appender set. The appender is a <a class="el" href="class_log4_qt_1_1_file_appender.html">FileAppender</a>. During the logging of an event an I/O error occurs. The <a class="el" href="class_log4_qt_1_1_file_appender.html">FileAppender</a> logs an event by itself using the logger Log4QtFileAppender. The event is passed to the root logger, which calls then the <a class="el" href="class_log4_qt_1_1_file_appender.html">FileAppender</a>. This causes another I/O error, which is logged by the <a class="el" href="class_log4_qt_1_1_file_appender.html">FileAppender</a>.</p>
<p>To avoid an endless loop the appender will drop the event on a recursive invocation. This check is done by <a class="el" href="class_log4_qt_1_1_appender_skeleton.html">AppenderSkeleton</a> in <a class="el" href="class_log4_qt_1_1_appender_skeleton.html#a156f7c871e6fc8d6c3d740d31c98387f">doAppend()</a>.</p>
<p>The problem only occurs, if a logger, appender, layout or filter log an event while an event is appended. Neither the logger class nor any of the layout or filter classes log events during appending of an event. Most of the appender classes may log errors during appending. Only the <a class="el" href="class_log4_qt_1_1_list_appender.html">ListAppender</a> and <a class="el" href="class_log4_qt_1_1_list_appender.html">ConsoleAppender</a> are not logging events.</p>
<p>The default configuration uses two <a class="el" href="class_log4_qt_1_1_list_appender.html">ConsoleAppender</a>, one for stderr and one for stdout. No event will be dropped, because no recursive invocations can occur. </p>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri May 27 2011 17:14:39 for Log4Qt by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
