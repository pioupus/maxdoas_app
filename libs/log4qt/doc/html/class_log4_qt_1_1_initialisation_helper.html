<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Log4Qt: Log4Qt::InitialisationHelper Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath">
    <ul>
      <li><a class="el" href="namespace_log4_qt.html">Log4Qt</a>      </li>
      <li><a class="el" href="class_log4_qt_1_1_initialisation_helper.html">Log4Qt::InitialisationHelper</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<h1>Log4Qt::InitialisationHelper Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Log4Qt::InitialisationHelper" -->
<p>The class <a class="el" href="class_log4_qt_1_1_initialisation_helper.html" title="The class InitialisationHelper performs static initialisation tasks.">InitialisationHelper</a> performs static initialisation tasks.  
<a href="#_details">More...</a></p>

<p><code>#include &lt;<a class="el" href="initialisationhelper_8h_source.html">initialisationhelper.h</a>&gt;</code></p>

<p><a href="class_log4_qt_1_1_initialisation_helper-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static QHash&lt; QString, QString &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a2b46d5e1ed2b826816c19352303b379b">environmentSettings</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_log4_qt_1_1_initialisation_helper.html">InitialisationHelper</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a42b04135a9ba9fac3a492e00627d6b0d">instance</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static QString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a2665fe19bb2add308cbb26a0a20cbc8f">setting</a> (const QString &amp;rKey, const QString &amp;rDefault=QString())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static qint64&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a0c2065ead3d3aac39179d81e0f591d9a">startTime</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">QDebug&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_log4_qt_1_1_initialisation_helper.html#ab1299b9c0611a0c096897dab6df1d6c5">operator&lt;&lt;</a> (QDebug debug, const <a class="el" href="class_log4_qt_1_1_initialisation_helper.html">InitialisationHelper</a> &amp;rInitialisationHelper)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The class <a class="el" href="class_log4_qt_1_1_initialisation_helper.html" title="The class InitialisationHelper performs static initialisation tasks.">InitialisationHelper</a> performs static initialisation tasks. </p>
<p>The <a class="el" href="class_log4_qt_1_1_initialisation_helper.html" title="The class InitialisationHelper performs static initialisation tasks.">InitialisationHelper</a> is either created on the first call or through static initialisation. It will capture the programs startup time, which can be retrieved using <a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a0c2065ead3d3aac39179d81e0f591d9a">startTime()</a>. The system environment is analysed for package related definitions. The result is available over <a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a2b46d5e1ed2b826816c19352303b379b">environmentSettings()</a>. The packages custom types are registered with the Qt type system.</p>
<p>Settings for the package can be retrieved using <a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a2665fe19bb2add308cbb26a0a20cbc8f">setting()</a>. Two macros are available to help with the creation of singletons / global static objects (<a class="el" href="initialisationhelper_8h.html#ae203aa0718785b8b0404eea35deeaeca">LOG4QT_GLOBAL_STATIC</a> and <a class="el" href="initialisationhelper_8h.html#a993c01d05eb1f6e5553610959859aa4d">LOG4QT_IMPLEMENT_INSTANCE</a>).</p>
<dl class="note"><dt><b>Note:</b></dt><dd>All the functions declared in this class are thread-safe.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="_init.html">Initialization procedure</a>, </dd></dl>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a2b46d5e1ed2b826816c19352303b379b"></a><!-- doxytag: member="Log4Qt::InitialisationHelper::environmentSettings" ref="a2b46d5e1ed2b826816c19352303b379b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QHash&lt; QString, QString &gt; Log4Qt::InitialisationHelper::environmentSettings </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns a hash with the settings retrieved from the system environment on startup.</p>
<p>The following table shows the environment variables taken into account and the setting key used for them.</p>
<table  align="center" border="1" cellpadding="2" cellspacing="0" bordercolor="#84b0c7">
<tr bgcolor="#d5e1e8">
<th width="25%">Environment variable  </th><th width="25%">Setting key  </th></tr>
<tr>
<td>LOG4QT_DEBUG  </td><td>Debug  </td></tr>
<tr bgcolor="#ffffff">
<td>LOG4QT_DEFAULTINITOVERRIDE  </td><td>DefaultInitOverride  </td></tr>
<tr>
<td>LOG4QT_CONFIGURATION  </td><td>Configuration  </td></tr>
<tr bgcolor="#ffffff">
<td>LOG4QT_CONFIGURATORCLASS  </td><td>ConfiguratorClass   </td></tr>
</table>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="_env.html">Environment Variables</a>, <a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a2665fe19bb2add308cbb26a0a20cbc8f">setting()</a> </dd></dl>

<p>References <a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a42b04135a9ba9fac3a492e00627d6b0d">instance()</a>.</p>

</div>
</div>
<a class="anchor" id="a42b04135a9ba9fac3a492e00627d6b0d"></a><!-- doxytag: member="Log4Qt::InitialisationHelper::instance" ref="a42b04135a9ba9fac3a492e00627d6b0d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="class_log4_qt_1_1_initialisation_helper.html">InitialisationHelper</a>* Log4Qt::InitialisationHelper::instance </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the <a class="el" href="class_log4_qt_1_1_initialisation_helper.html" title="The class InitialisationHelper performs static initialisation tasks.">InitialisationHelper</a> instance. </p>

<p>Referenced by <a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a2b46d5e1ed2b826816c19352303b379b">environmentSettings()</a>, <a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a2665fe19bb2add308cbb26a0a20cbc8f">setting()</a>, and <a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a0c2065ead3d3aac39179d81e0f591d9a">startTime()</a>.</p>

</div>
</div>
<a class="anchor" id="a2665fe19bb2add308cbb26a0a20cbc8f"></a><!-- doxytag: member="Log4Qt::InitialisationHelper::setting" ref="a2665fe19bb2add308cbb26a0a20cbc8f" args="(const QString &amp;rKey, const QString &amp;rDefault=QString())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString Log4Qt::InitialisationHelper::setting </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>rKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>rDefault</em> = <code>QString()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the value for the setting <em>rKey</em> or <em>rDefault</em>, if it is not defined.</p>
<p>A setting can be either defined by an environment variable or by a key in the application setting. The function will first test the settings made by environment variables for the key <em>rKey</em> using <a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a2b46d5e1ed2b826816c19352303b379b">environmentSettings()</a>. If the key is not present and a QCoreApplication exists, the application settings are tested for the key <em>rKey</em> in the group <code>Log4Qt</code>.</p>
<p>The following setting exists:</p>
<table  align="center" border="1" cellpadding="2" cellspacing="0" bordercolor="#84b0c7">
<tr bgcolor="#d5e1e8">
<th width="25%">Setting key  </th><th>Description  </th></tr>
<tr>
<td>Debug  </td><td>The variable controls the <a class="el" href="class_log4_qt_1_1_level.html" title="The class Level defines the level of a logging event.">Level</a> value for the logger <a class="el" href="class_log4_qt_1_1_log_manager.html#afd8e6d12cfab3ffd0c68cbab45c79609">LogManager::logLogger()</a>. If the value is a valid <a class="el" href="class_log4_qt_1_1_level.html" title="The class Level defines the level of a logging event.">Level</a> string, the level for the logger is set to the level. If the value is not a valid <a class="el" href="class_log4_qt_1_1_level.html" title="The class Level defines the level of a logging event.">Level</a> string, <a class="el" href="class_log4_qt_1_1_level.html#a5cd72b3cca61f4c5a50ffb383cd56d00a61a77a907d3d6e443639f7570f84fd56">DEBUG_INT</a> is used. Otherwise <a class="el" href="class_log4_qt_1_1_level.html#a5cd72b3cca61f4c5a50ffb383cd56d00a9e94e68775f87df73eb1833762d2c6e9">ERROR_INT</a> is used.  </td></tr>
<tr bgcolor="#ffffff">
<td>DefaultInitOverride  </td><td>The variable controls the <a class="el" href="_init.html">initialization procedure</a> performed by the <a class="el" href="class_log4_qt_1_1_log_manager.html">LogManager</a> on startup. If it is set to any other value then <code>false</code> the <a class="el" href="_init.html">initialization procedure</a> is skipped. </td></tr>
<tr>
<td>Configuration  </td><td>Specifies the configuration file used for initialising the package. </td></tr>
<tr bgcolor="#ffffff">
<td>ConfiguratorClass  </td><td>Specifies the configurator class used for initialising the package.  </td></tr>
</table>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a2b46d5e1ed2b826816c19352303b379b">environmentSettings()</a>, <a class="el" href="_env.html">Environment Variables</a>, <a class="el" href="_init.html">Initialization procedure</a>, <a class="el" href="class_log4_qt_1_1_log_manager.html#a4a9e84efcf883b73f0271b7ea01ec605">LogManager::configureLogLogger()</a>, <a class="el" href="class_log4_qt_1_1_log_manager.html#a1296ef5e63bea63aea91c09197c56f4d">LogManager::startup()</a> </dd></dl>

<p>References <a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a42b04135a9ba9fac3a492e00627d6b0d">instance()</a>.</p>

</div>
</div>
<a class="anchor" id="a0c2065ead3d3aac39179d81e0f591d9a"></a><!-- doxytag: member="Log4Qt::InitialisationHelper::startTime" ref="a0c2065ead3d3aac39179d81e0f591d9a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qint64 Log4Qt::InitialisationHelper::startTime </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the start time of the program as the number of milliseconds that have passed since 1970-01-01T00:00:00,000, Coordinated Universal Time (Qt::UTC).</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="class_log4_qt_1_1_date_time.html#a176f65e88d6095e99f51b23a55e6af5e">DateTime::fromMilliSeconds()</a>, <a class="el" href="class_log4_qt_1_1_date_time.html#a12d66f02155a46bb3adc07fc383d6cd3">DateTime::toMilliSeconds()</a> </dd></dl>

<p>References <a class="el" href="class_log4_qt_1_1_initialisation_helper.html#a42b04135a9ba9fac3a492e00627d6b0d">instance()</a>.</p>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="ab1299b9c0611a0c096897dab6df1d6c5"></a><!-- doxytag: member="Log4Qt::InitialisationHelper::operator&lt;&lt;" ref="ab1299b9c0611a0c096897dab6df1d6c5" args="(QDebug debug, const InitialisationHelper &amp;rInitialisationHelper)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QDebug operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">QDebug&nbsp;</td>
          <td class="paramname"> <em>debug</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_log4_qt_1_1_initialisation_helper.html">InitialisationHelper</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rInitialisationHelper</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Writes all object member variables to the given debug stream <em>rDebug</em> and returns the stream.</p>
<p><code> InitialisationHelper(<a class="el" href="class_log4_qt_1_1_initialisation_helper.html" title="The class InitialisationHelper performs static initialisation tasks.">InitialisationHelper</a>(starttime:1193883677438( QDateTime("Wed Oct 31 21:21:17 2007") ) environmentsettings: QHash(("configuration", "\myapp.log4j") ("Debug", "DEBUG")) ) ) </code> </p>
<dl class="see"><dt><b>See also:</b></dt><dd>QDebug, InitialisationHelper::logManager() </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/log4qt/helpers/<a class="el" href="initialisationhelper_8h_source.html">initialisationhelper.h</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Fri May 27 2011 17:14:39 for Log4Qt by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.1 </small></address>
</body>
</html>
